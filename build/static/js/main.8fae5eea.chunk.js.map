{"version":3,"sources":["components/Person.js","components/Filter.js","components/AddPerson.js","services/server.js","App.js","index.js"],"names":["Person","props","name","number","Filter","value","search","onChange","AddPerson","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","baseUrl","axios","get","newObject","post","put","id","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setSearch","notification","setNotification","useEffect","services","then","response","data","namesToShow","filter","person","toLowerCase","substring","length","event","target","preventDefault","newPerson","map","includes","window","confirm","updatedContact","find","server","setTimeout","concat","key","onClick","newList","catch","error","deletePerson","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8fae5eea.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = (props) =>( \r\n      <div>\r\n          <p>{props.name} : {props.number}</p>\r\n          \r\n      </div>\r\n  )\r\n\r\n  export default Person\r\n  ","import React from 'react'\r\n\r\nconst Filter = (props) =>(\r\n    <div>\r\n        filter shown by <input value={props.search} onChange={props.onChange} /> \r\n    </div>\r\n)\r\n\r\nexport default Filter","import React from'react'\r\n\r\nconst AddPerson = (props) =>(\r\n    <form onSubmit={props.addPerson}>\r\n    <div>\r\n      name: <input value={props.newName} onChange={props.handleNameChange} />\r\n      number: <input value={props.newNumber} onChange={props.handleNumberChange} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n)\r\n\r\nexport default AddPerson","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = (newObject) => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = ( newObject) => {\r\n  return axios.put(`${baseUrl}/${newObject.id}`, newObject)\r\n}\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\n\r\n\r\n\r\nexport default { \r\n  getAll, \r\n  create, \r\n  update,\r\n  remove\r\n}","import React, { useState, useEffect } from 'react'\r\nimport './index.css'\r\nimport Person from './components/Person.js'\r\nimport Filter from './components/Filter.js'\r\nimport AddPerson from './components/AddPerson.js'\r\nimport services from './services/server.js'\r\nimport server from './services/server.js'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ search, setSearch ] = useState('')\r\n  const [ notification, setNotification ] = useState(null)\r\n  useEffect(() =>{\r\n    \r\n    services.getAll()\r\n      .then(response =>{\r\n        setPersons(response.data[0].persons)\r\n      })\r\n  }, [])\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n      setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleSearchChange = (event) =>{\r\n      setSearch(event.target.value)\r\n  }\r\n\r\n\r\n  const namesToShow = persons.filter(person => search.toLowerCase() === person.name.substring(0, search.length).toLowerCase())\r\n\r\n  const addPerson = (event) =>{\r\n    event.preventDefault()\r\n    \r\n    const newPerson = {\r\n        name: newName,\r\n        number: newNumber\r\n      }\r\n    const names = persons.map(person => person.name.toLowerCase())\r\n    const contains = names.includes(newName)\r\n\r\n      if (contains === true){\r\n           if(window.confirm(`${newName} löytyy jo luettelosta! Haluatko vaihtaa sen numeron?`)){\r\n             const contact = persons.find(person => person.name.toLowerCase() === newPerson.name.toLowerCase())\r\n             const updatedContact = {...contact, number: newNumber}\r\n             server.update(updatedContact)\r\n             .then(response =>{ \r\n             setNotification(<div id=\"notification\">{`Yhteystiedon ${newName} numero muutettu!`}</div>)\r\n             setTimeout(() =>{\r\n               setNotification(null)\r\n             }, 5000)\r\n            })\r\n           }\r\n\r\n      }else{\r\n          services.create(newPerson)\r\n          .then(response =>{\r\n            \r\n            setPersons(persons.concat(newPerson))\r\n            setNewName('')\r\n            setNewNumber('')\r\n            setNotification(<div id=\"notification\">{`${newName} lisätty!`}</div>)\r\n            setTimeout(() => {\r\n              setNotification(null)\r\n            }, 5000)\r\n          })\r\n          \r\n          \r\n      }\r\n      \r\n  }\r\n\r\n  const deletePerson = (props) =>{\r\n    \r\n    const newList = persons.filter(person => person.id !== props)\r\n\r\n    if(window.confirm(\"Haluatko poistaa yhteystiedon?\")){\r\n      services.remove(props)\r\n    .then(response =>{\r\n      setPersons(newList)\r\n      setNotification(<div id=\"notification\">Yhteystieto poistettu!</div>)\r\n      setTimeout(() =>{\r\n        setNotification(null)\r\n      }, 5000)\r\n    })\r\n    .catch(error =>{\r\n      setNotification(<div id=\"error\">Yhteystieto on jo poistettu serveriltä!</div>)\r\n    })\r\n    }\r\n    \r\n    \r\n  }\r\n\r\n  const personlist = () => (\r\n    namesToShow.map(person =><div> <Person key={person.name} name={person.name} number={person.number} /> <button onClick={() => deletePerson(person.id)}>Delete</button></div>)\r\n)\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <div>{notification}</div>\r\n      <Filter value={search} onChange={handleSearchChange} />\r\n     \r\n     \r\n     <AddPerson newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} addPerson={addPerson}/>\r\n      <h2>Numbers</h2>\r\n      <div>\r\n      {personlist()}\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}