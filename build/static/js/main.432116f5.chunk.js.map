{"version":3,"sources":["components/Person.js","components/Filter.js","components/AddPerson.js","services/server.js","App.js","index.js"],"names":["Person","props","name","number","Filter","value","search","onChange","AddPerson","onSubmit","addPerson","newName","handleNameChange","newNumber","handleNumberChange","type","baseUrl","axios","get","newObject","post","put","id","delete","App","useState","persons","setPersons","setNewName","setNewNumber","setSearch","notification","setNotification","useEffect","services","then","response","console","log","data","filterNames","filter","person","toLowerCase","String","substring","length","personlist","map","key","onClick","newList","window","confirm","setTimeout","catch","error","deletePerson","event","target","preventDefault","newPerson","includes","updatedContact","find","server","toString","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.432116f5.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = (props) =>( \r\n      <div>\r\n          <p>{props.name} : {props.number}</p>\r\n          \r\n      </div>\r\n  )\r\n\r\n  export default Person\r\n  ","import React from 'react'\r\n\r\nconst Filter = (props) =>(\r\n    <div>\r\n        filter shown by <input value={props.search} onChange={props.onChange} /> \r\n    </div>\r\n)\r\n\r\nexport default Filter","import React from'react'\r\n\r\nconst AddPerson = (props) =>(\r\n    <form onSubmit={props.addPerson}>\r\n    <div>\r\n      name: <input value={props.newName} onChange={props.handleNameChange} />\r\n      number: <input value={props.newNumber} onChange={props.handleNumberChange} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n)\r\n\r\nexport default AddPerson","import axios from 'axios'\r\nconst baseUrl = 'http://localhost:3001/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = (newObject) => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst update = ( newObject) => {\r\n  return axios.put(`${baseUrl}/${newObject.id}`, newObject)\r\n}\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\n\r\n\r\n\r\nexport default { \r\n  getAll, \r\n  create, \r\n  update,\r\n  remove\r\n}","import React, { useState, useEffect } from 'react'\r\nimport './index.css'\r\nimport Person from './components/Person.js'\r\nimport Filter from './components/Filter.js'\r\nimport AddPerson from './components/AddPerson.js'\r\nimport services from './services/server.js'\r\nimport server from './services/server.js'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([]) \r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ search, setSearch ] = useState('')\r\n  const [ notification, setNotification ] = useState(null)\r\n \r\n  useEffect(() =>{\r\n    \r\n    services.getAll()\r\n      .then(response =>{\r\n        console.log(response.data)\r\n        \r\n        setPersons(response.data)\r\n       \r\n      })\r\n  }, [])\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n      setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleSearchChange = (event) =>{\r\n      setSearch(event.target.value)\r\n      \r\n\r\n  }\r\n\r\n\r\n const filterNames =  persons.filter(person => search.toLowerCase() === String(person.name).substring(0, search.length).toLowerCase())\r\n  \r\n\r\n  const addPerson = (event) =>{\r\n    event.preventDefault()\r\n    \r\n    const newPerson = {\r\n        \"name\": newName,\r\n        \"number\": newNumber\r\n      }\r\n    const names = persons.map(person => person.name.toLowerCase())\r\n    const contains = names.includes(newName.toLowerCase())\r\n\r\n      if (contains === true){\r\n           if(window.confirm(`${newName} löytyy jo luettelosta! Haluatko vaihtaa sen numeron?`)){\r\n             const contact = persons.find(person => person.name.toLowerCase() === newPerson.name.toLowerCase())\r\n             const updatedContact = {...contact, number: newNumber}\r\n             server.update(updatedContact)\r\n             .then(response =>{ \r\n             setNotification(<div id=\"notification\">{`Yhteystiedon ${newName} numero muutettu!`}</div>)\r\n             setTimeout(() =>{\r\n               setNotification(null)\r\n             }, 5000)\r\n            }).catch(error =>{\r\n              setNotification(<div id=\"error\">{error.toString()}</div>)\r\n              setTimeout(() => {\r\n                setNotification(null)\r\n              }, 5000)\r\n            })\r\n           }\r\n\r\n      }else{\r\n          services.create(newPerson)\r\n          .then(response =>{\r\n            \r\n            setPersons(persons.concat(newPerson))\r\n            setNewName('')\r\n            setNewNumber('')\r\n            setNotification(<div id=\"notification\">{`${newName} lisätty!`}</div>)\r\n            setTimeout(() => {\r\n              setNotification(null)\r\n            }, 5000)\r\n          }).catch(error => {\r\n            setNotification(<div id=\"error\">{error.toString()}</div>)\r\n            setTimeout(() => {\r\n              setNotification(null)\r\n            }, 5000)\r\n      })\r\n      \r\n  }\r\n}\r\n\r\n  const deletePerson = (props) =>{\r\n    \r\n    const newList = persons.filter(person => person.id !== props)\r\n\r\n    if(window.confirm(\"Haluatko poistaa yhteystiedon?\")){\r\n      services.remove(props)\r\n    .then(response =>{\r\n      setPersons(newList)\r\n      setNotification(<div id=\"notification\">Yhteystieto poistettu!</div>)\r\n      setTimeout(() =>{\r\n        setNotification(null)\r\n      }, 5000)\r\n      \r\n    })\r\n    .catch(error =>{\r\n      setNotification(<div id=\"error\">Yhteystieto on jo poistettu serveriltä!</div>)\r\n    })\r\n    }\r\n    \r\n    \r\n  }\r\n\r\n  const personlist = (\r\n    filterNames.map(person =><div> <Person key={person.name} name={person.name} number={person.number} /> <button onClick={() => deletePerson(person.id)}>Delete</button></div>)\r\n)\r\n\r\n\r\n  return (\r\n    <div>\r\n      <h2>Phonebook</h2>\r\n      <div>{notification}</div>\r\n      <Filter value={search} onChange={handleSearchChange} />\r\n     \r\n     \r\n     <AddPerson newName={newName} newNumber={newNumber} handleNameChange={handleNameChange} handleNumberChange={handleNumberChange} addPerson={addPerson}/>\r\n      <h2>Numbers</h2>\r\n      <div>\r\n      {personlist}\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}